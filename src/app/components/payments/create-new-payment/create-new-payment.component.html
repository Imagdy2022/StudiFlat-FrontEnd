<!-- start header  -->
<header>
  <app-head (newItemEvent)="addItem($event)" [titleModule]="'Finance'"></app-head>
</header>
<!-- end header  -->

<div class="row m-0">
  <!-- start sidebar  -->
  <app-sidebar class="col-lg-2" [showSide]="showSide" [titlepage]="'Finance'"></app-sidebar>
  <!-- end sidebar  -->
  <!-- start content page  -->
  <main class="p-4 col-lg-10 ">
    <div class="d-md-flex justify-content-between" style="margin-bottom:20px">
      <div class="d-flex" style="align-items: center;">
          <p class="fw-bold me-2" style="color: #6c6a6a;margin-bottom: 0px;"><a  style="color: #6c6a6a;"class="removeUnderLine" routerLink="/Payments">Finance </a></p>

          <p class="fw-bold me-2" style="margin-bottom: 0px;color: #605D62;">></p>
          <p class="fw-bold" style="color: #6c6a6a;margin-bottom: 0px;">Add New Payment</p>
      </div>
      <div class="d-flex justify-content-lg-between ">
        <div class="d-flex justify-content-between ">

        </div>

    </div>
  </div>
  <div class="card px-4 py-3 ">
    <div class="header d-flex align-items-center">
      <h5 class="mb-2">Add New Payment</h5>
    </div>
    <div class="body py-4">
      <form class="w-100" >
        <div class="row g-4 mb-3">
          <div class="col-md-6">
            <label class="form-label">Pay To</label>
            <select class="form-select">
              <option value="1">Owner</option>
              <option value="2">Apartment</option>
              <option value="3">Partner</option>
              <option value="4">Worker</option>
              <option value="5">Admins</option>
              <option value="6">Employees</option>
            </select>

          </div>
          <div class="col-md-6">
            <label for="Amount" class="form-label">Amount</label>
            <input type="number" id="Amount" class="form-control" placeholder="0.00"/>
          </div>
          <div class="col-md-12">
            <label for="desc" class="form-label">Expense Description </label>
            <textarea type="text" rows="6" id="desc" class="form-control" placeholder="Enter a description..."></textarea>
          </div>
        </div>

      </form>
    </div>

    <div class="card mt-2">
      <div class="d-flex justify-content-between align-items-center mb-2">

          <div class="mx-2 mt-4">
              <p class="me-2 fs-5 fw-bold ml-8">partners</p>
              <span class="me-2">Please select the partner for whom you would like to make a payment</span>
          </div>

          <div class="d-flex align-items-center mx-2 mt-2 w-50">
              <ng-container *ngIf="!search; else searchVisible">
                  <img class="pi pi-search cursor ms-auto" style="margin-right: 2rem;" (click)="search = true" src="../../../assets/images/search.svg">

              </ng-container>
              <ng-template #searchVisible>
                  <input class="form-control fs-6 ps-3" *ngIf="search" type="text" pInputText [(ngModel)]="searchText" placeholder="Global Search" />
                  <button class="btn btn-primary ms-2" *ngIf="search" (click)="searchAction()">
              Search
          </button>
              </ng-template>
          </div>
      </div>


      <p-table class="table-shopping" [selectionPageOnly]="true" [tableStyle]="{'min-width': '50rem' ,'min-': '50rem'}" [value]="partners">
          <ng-template pTemplate="header" class="text-center">
              <tr >
                  <ng-container>


                      <th class="td-name">
                          Name

                      </th>
                      <th class="td-name">
                          Email

                      </th>
                      <th class="td-name">
                          Phone number

                      </th>
                      <th class="td-name">
                          WhatsApp

                      </th>
                      <th class="td-name">
                        Profits for this month

                      </th>
                  </ng-container>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-partners>

              <tr>


                  <td>
                      <input type='radio' name="selectedUser" (change)="selectUser($event)"/>
                      <span class="ms-2">  {{partners?.partner_FName}} {{partners?.partner_LName}}</span>

                  </td>
                  <td>
                      {{partners?.partner_Email}}
                  </td>
                  <td>
                      {{partners?.partner_PhoneNumber}}
                  </td>

                  <td>
                      {{partners?.partner_WANumber}}
                  </td>
                  <td>
                      {{partners?.partner_Code}}
                  </td>

              </tr>

          </ng-template>


          <ng-template pTemplate="emptymessage">
              <div class="container text-center mt-4">
                  <p class="mb-0">No data found.</p>
              </div>
          </ng-template>

      </p-table>
      <p-paginator (onPageChange)="tiggerPageChange($event)" [rows]="pagesize" [totalRecords]="totalRecords"></p-paginator>


  </div>
   <div>
    <div class="col-md-12 mb-3">
      <label class="form-label gray fw-bold">Attachment</label>
      <div class="image-upload mainimage mt-2">
        <input type="file" accept="image/*" multiple="multiple">
          <div class="image-uploads">
            <div class="d-flex align-items-center justify-content-center text-center h-100" >
              <div class="text-center imageData pt-2" >
                <div class="icon m-auto">
                  <img src="/assets/images/upload 1.svg" alt="img">
                 </div>
                 <p class="mb-0">Click to upload <span class="text-muted fw-normal"> or drag and drop</span></p>
                 <p class="text-muted fw-normal">PNG, JPG, GIF, or MP4 (max. 8MB)</p>
              </div>
            </div>
          </div>
      </div>
    </div>
    <div class="col-md-12">
      <label for="note" class="form-label">Note </label>
      <textarea type="text" rows="6" id="note" class="form-control" placeholder="Enter a note..."></textarea>
    </div>
   </div>

   <div class="mt-4 d-flex justify-content-between ">
        <button class="btn btn-black">cancel</button>
        <button class="btn btn-color py-2 px-4">save</button>
</div>
  </div>

  </main>
</div>
